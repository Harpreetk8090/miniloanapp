<div class="container">
  <h4 class="mt-3  text-center">Congratulations {{userData?.firstName}} your loan has been approved</h4>
  <div class="table-responsive">
    <table class="table mt-5 table-striped table-hover table-bordered" style="width: 80%; margin: auto;">
      <thead class="thead-dark">
        <tr>
          <th scope="col">User Id</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Loan Term</th>
          <th scope="col">Loan Amount</th>
          <th scope="col">Status(Paid/Pending)</th>
          
        </tr>
      </thead>
      <tbody>
        <tr>

          <td>{{userData.id}}</td>
          <td>{{userData.firstName}}</td>
          <td>{{userData.lastName}}</td>
          <td>{{userData.email}}</td>
          <td>{{userData.loanterm}} Weeks</td>
          <td>Rs {{userData.loanamount}}</td>
          <td> Installments are {{userData.repayment==='false'? 'Pending': 'abcd'}}</td>
          
          <td> <button class=" btn btn-primary" [disabled]="buttonDisabled" style="background-color: #143b64;"
              (click)="loanapp()">Click for Breakup</button></td>

        </tr>


      </tbody>
    </table>



   
  </div>
  <div class="table-responsive">
    <table class="table mt-5 table-hover table-bordered " *ngIf="weeklyRepayments.length!==0"
      style="width: 40%; margin: auto;">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Amount</th>
          <th scope="col">Pay/Pending</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ele of weeklyRepayments">

          <td>{{ele.date}}</td>
          <td>{{ele.amount}}</td>
          <td>{{ele.payment===''? 'Pending': ele.payment}}</td>
          <td class="d-flex justify-content-center ">
            <button  (click)="editStatus(ele)"class="btn btn-primary" data-bs-toggle="modal"
              data-bs-target="#exampleModal">Edit</button>
           
          </td>
        </tr>


      </tbody>
    </table>
  </div>


  <!-- modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
    style="margin-top: 130px;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Update customer details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="editForm" (ngSubmit)="updatePaymentStatus()">




            <div class="row">
              <div class="form-group ">
                <label for="inputEmail4">Status</label>
                <select class="form-select mt-2" aria-label="Default select example" formControlName="myInstallment">

                  <option *ngFor="let item of repaymentOptions" [value]="item.code">{{item.name}}</option>

                </select>
              </div>

            </div>
            <div class="modal-footer">
              <button type="button" id="cancel" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Save changes</button>
            </div>



          </form>




        </div>